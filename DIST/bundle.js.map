{"version":3,"sources":["webpack:///webpack/bootstrap efb29394548a0e0f883c","webpack:///./SRC/scripts.ts","webpack:///./~/load-google-maps-api/lib/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap efb29394548a0e0f883c","let loadGoogleMapsAPI = require('load-google-maps-api');\n\nconst API_WEATHER_KEY = 'f9ddf31de1f2a7aafa162e68b9ffc586';\n\nclass MainWeather {\n\tpublic temp:string;\n}\n\nclass City {\n\tpublic name:string;\n\tpublic main:MainWeather;\n}\n\nlet loadWeather = (url:string):Promise<Array<City>> => {\n\treturn new Promise<Array<City>>((resolve, reject) => {\n\t\tfetch(url)\n\t\t\t.then(response => response.json())\n\t\t\t.then(body => resolve(body.list))\n\t\t\t.catch(error => reject(error))\n\t});\n};\n\nlet show_map = (position:Position) => {\n\tlet latitude:number = position.coords.latitude,\n\t\tlongitude:number = position.coords.longitude;\n\n\tlet URL:string = 'http://api.openweathermap.org/data/2.5/find?lat=' + latitude + '&lon=' + longitude + '&cnt=10&appid=' + API_WEATHER_KEY;\n\n\tlet docFragment:DocumentFragment = document.createDocumentFragment();\n\n\tweatherData = loadWeather(URL);\n\n\tloadGoogleMapsAPI.default().then((googleMaps) => {\n\t\tlet map = new googleMaps.Map(document.getElementById('map'), {\n\t\t\tzoom: 8,\n\t\t\tcenter: {\n\t\t\t\tlat: latitude,\n\t\t\t\tlng: longitude\n\t\t\t}\n\t\t});\n\n\t\tnew googleMaps.Marker({\n\t\t\tposition: {\n\t\t\t\tlat: latitude,\n\t\t\t\tlng: longitude\n\t\t\t},\n\t\t\tmap: map\n\t\t});\n\t}).catch((err) => {\n\t\tlet p:HTMLElement = document.createElement('p');\n\t\tp.innerHTML = 'Error: ' + err.message;\n\t\tdocument.getElementById('map').appendChild(p);\n\t});\n\n\tweatherData\n\t\t.then(data => {\n\t\t\tfor (let city of data) {\n\t\t\t\tlet div:HTMLElement = document.createElement('div'),\n\t\t\t\t\th3:HTMLElement = document.createElement('h3'),\n\t\t\t\t\tp:HTMLElement = document.createElement('p');\n\n\t\t\t\th3.innerHTML = city.name;\n\t\t\t\tp.innerHTML = city.main.temp;\n\n\t\t\t\tdiv.appendChild(h3);\n\t\t\t\tdiv.appendChild(p);\n\t\t\t\tdocFragment.appendChild(div);\n\t\t\t}\n\t\t\tdocument.getElementById('weather').appendChild(docFragment);\n\t\t})\n\t\t.catch(error => {\n\t\t\tlet p:HTMLElement = document.createElement('p');\n\t\t\tp.innerHTML = 'Error: ' + error.message;\n\t\t\tdocument.getElementById('weather').appendChild(p);\n\t\t});\n};\n\nlet weatherData:Promise<Array<City>>;\n\nlet init = () => navigator.geolocation.getCurrentPosition(show_map);\n\ninit();\n\n\n// WEBPACK FOOTER //\n// ./SRC/scripts.ts","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var client = _ref.client;\n  var key = _ref.key;\n  var language = _ref.language;\n  var _ref$libraries = _ref.libraries;\n  var libraries = _ref$libraries === undefined ? [] : _ref$libraries;\n  var _ref$timeout = _ref.timeout;\n  var timeout = _ref$timeout === undefined ? 10000 : _ref$timeout;\n  var v = _ref.v;\n\n  var callbackName = '__googleMapsApiOnLoadCallback';\n\n  return new Promise(function (resolve, reject) {\n\n    // Exit if not running inside a browser.\n    if (typeof window === 'undefined') {\n      return reject(new Error('Can only load the Google Maps API in the browser'));\n    }\n\n    // Prepare the `script` tag to be inserted into the page.\n    var scriptElement = document.createElement('script');\n    var params = ['callback=' + callbackName];\n    if (client) params.push('client=' + client);\n    if (key) params.push('key=' + key);\n    if (language) params.push('language=' + language);\n    libraries = [].concat(libraries); // Ensure that `libraries` is an array\n    if (libraries.length) params.push('libraries=' + libraries.join(','));\n    if (v) params.push('v=' + v);\n    scriptElement.src = 'https://maps.googleapis.com/maps/api/js?' + params.join('&');\n\n    // Timeout if necessary.\n    var timeoutId = null;\n    if (timeout) {\n      timeoutId = setTimeout(function () {\n        window[callbackName] = function () {}; // Set the on load callback to a no-op.\n        reject(new Error('Could not load the Google Maps API'));\n      }, timeout);\n    }\n\n    // Hook up the on load callback.\n    window[callbackName] = function () {\n      if (timeoutId !== null) {\n        clearTimeout(timeoutId);\n      }\n      resolve(window.google.maps);\n      delete window[callbackName];\n    };\n\n    // Insert the `script` tag.\n    document.body.appendChild(scriptElement);\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/load-google-maps-api/lib/index.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}